🔌 طب السطر ده بيعمل إيه؟
public AppDbContext(DbContextOptions<AppDbContext> options) : base(options)


نقسمه:

الجزء الأول
DbContextOptions<AppDbContext> options


ده بيستقبل إعدادات خاصة بالنوع بتاعك تحديدًا
(مش أي DbContext وخلاص)

الجزء التاني
: base(options)


إنت هنا بتسلّم الإعدادات دي للأب
اللي هو IdentityDbContext

يعني بتقوله:

"اتفضل يا EF Core، دي كل معلومات الاتصال بالداتابيز"

ومن اللحظة دي EF يعرف:

يتصل فين

ينفذ Queries إزاي

يحفظ التغييرات فين




API بيقول:

روح اشتغل على SQL Server ده

يروح يدي التعليمات للـ DbContext
والـ DbContext يديها لـ EF Core
وEF يشتغل

من غير ما Infrastructure يكتب ولا حرف عن Connection String 👌