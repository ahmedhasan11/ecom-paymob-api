🧠 Brief Notes — جاهزة للنسخ
🔹 الفكرة الأساسية

أي Entity في الدومين لازم يتخلق وهو في حالة صالحة وكاملة من أول لحظة.

🔹 يعني إيه "Complete Object"؟

الكائن لا يُسمح له أن يوجد وهو ناقص خصائص أساسية تعرّفه في البزنس.

🔹 إزاي نحقق ده؟

نحدد الخصائص الأساسية لوجود الكائن

نجبر أي إنشاء للكائن إنه يستقبلها في الـ constructor

نتحقق داخل الدومين من إنها صالحة (مش null / مش فارغة / منطقية)

🔹 مثال — Product

الخصائص الأساسية:

Name

Price

لذلك:

var product = new Product(name, Money.From(price));


❌ ممنوع:

var product = new Product(); // كائن ناقص

🔹 الفرق بين نوعين من التحقق
النوع	الهدف	المكان
Input Validation	حماية السيستم من مدخلات المستخدم	Application Layer
Domain Invariants	منع وجود كائن غير منطقي	Domain Layer
🔹 قاعدة ذهبية

Service يتحقق من المدخلات
Domain يضمن أن الكائن لا يمكن أن يوجد في حالة غير صالحة

🔹 لماذا لا نكتفي بالـ Service Validation؟

لأن:

قد يتم إنشاء الكائن من مكان آخر

قد ينسى المطور التحقق

الاختبارات أو السكربتات قد تتجاوز الـ Service

الدومين يجب أن يحمي نفسه دائمًا.

🔹 جملة ملخصة

اجعل الحالات غير الصالحة مستحيلة التمثيل في الكود